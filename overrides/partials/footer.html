{% block footer %}
<div class="footer-animated-bg">
  <div class="shiny-stars"></div>
  <footer class="custom-footer text-white pt-4 pb-4">
    <div class="container d-flex justify-content-end align-items-center">
      <div class="text-end">
        <p class="mb-1">Â© {{ config.site_name }}</p>
        <div class="visitors">
          <img src="https://visitor-badge.laobi.icu/badge?page_id=shinylegion.github.io.many" alt="visitor badge" />
        </div>
      </div>
    </div>
  </footer>
</div>

<script>
  function swapLogo() {
    const logo = document.querySelector('.md-logo img');
    const theme = document.documentElement.getAttribute('data-theme');


    let newSrc = '/many/assets/img/sl-logo.jpg'; // Default fallback logo

    switch (theme) {
      case 'fire':
        newSrc = '/many/assets/img/logo-fire.png';
        break;
      case 'shiny':
        newSrc = '/many/assets/img/sl-logo.jpg';
        break;
      case 'purple':
        newSrc = '/many/assets/img/logo-purple.png';
        break;
    }

    // Prevent flicker by only changing if needed
    if (!logo.src.endsWith(newSrc)) {
      console.log('[Logo Swap] Setting logo.src to:', newSrc);
      logo.src = newSrc;
    }
  }

  // Run once DOM is ready
  document.addEventListener("DOMContentLoaded", swapLogo);

  // Listen for changes to `data-theme`
  const observer = new MutationObserver(swapLogo);
  observer.observe(document.documentElement, {
    attributes: true,
    attributeFilter: ['data-theme']
  });
</script>




<script>
document.addEventListener("DOMContentLoaded", function () {
  const sparkleContainer = document.querySelector(".shiny-stars");
  const sparkleCount = 25;

  for (let i = 0; i < sparkleCount; i++) {
    const star = document.createElement("div");
    star.className = "shiny-star";

    star.style.top = `${Math.random() * 100}%`;
    star.style.left = `${Math.random() * 100}%`;

    const scale = (Math.random() * 0.9 + 0.6).toFixed(2);
    star.style.setProperty('--star-scale', scale);
    star.style.animationDelay = `${Math.random() * 4}s`;

    sparkleContainer.appendChild(star);
  }
});
</script>
{% endblock %}
